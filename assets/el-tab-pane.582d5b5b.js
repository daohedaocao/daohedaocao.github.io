import{b as K,e as L,a5 as ae,f as U,U as W,V as X,u as j,r as E,w as O,a8 as Y,bJ as F,aI as se,o as ne,k as le,t as oe,l as B,n as pe,_ as re,a3 as G,ap as Z,bK as he,bL as ge,g as V,$ as ce,bx as ye,D as d,E as D,b0 as _e,X as Ne,z as Te,M as I,Y as ie,A as Pe,Z as we,bM as Ee,s as ue,aO as be,h as Se,a as Ce,aB as Q,bN as $e,bO as ee,b1 as xe,F as Be,G as Oe,J as ke,v as ze,ab as Re}from"./index.6615d0be.js";const q=Symbol("tabsRootContextKey"),Ae=K({tabs:{type:L(Array),default:()=>ae([])}}),Fe={name:"ElTabBar"},Me=U({...Fe,props:Ae,setup(e,{expose:c}){const x=e,T="ElTabBar",n=G(),_=W(q);_||X(T,"<el-tabs><el-tab-bar /></el-tabs>");const m=j("tabs"),i=E(),p=E(),u=()=>{let l=0,S=0;const h=["top","bottom"].includes(_.props.tabPosition)?"width":"height",o=h==="width"?"x":"y";return x.tabs.every(t=>{var g,f,C,k;const z=(f=(g=n.parent)==null?void 0:g.refs)==null?void 0:f[`tab-${t.paneName}`];if(!z)return!1;if(!t.active)return!0;S=z[`client${F(h)}`];const M=o==="x"?"left":"top";l=z.getBoundingClientRect()[M]-((k=(C=z.parentElement)==null?void 0:C.getBoundingClientRect()[M])!=null?k:0);const R=window.getComputedStyle(z);return h==="width"&&(x.tabs.length>1&&(S-=Number.parseFloat(R.paddingLeft)+Number.parseFloat(R.paddingRight)),l+=Number.parseFloat(R.paddingLeft)),!1}),{[h]:`${S}px`,transform:`translate${F(o)}(${l}px)`}},v=()=>p.value=u();return O(()=>x.tabs,async()=>{await Y(),v()},{immediate:!0}),se(i,()=>v()),c({ref:i,update:v}),(l,S)=>(ne(),le("div",{ref_key:"barRef",ref:i,class:oe([B(m).e("active-bar"),B(m).is(B(_).props.tabPosition)]),style:pe(p.value)},null,6))}});var Le=re(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const Ve=K({panes:{type:L(Array),default:()=>ae([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:L(Function),default:Z},onTabRemove:{type:L(Function),default:Z},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),te="ElTabNav",De=U({name:te,props:Ve,setup(e,{expose:c}){const x=G(),T=W(q);T||X(te,"<el-tabs><tab-nav /></el-tabs>");const n=j("tabs"),_=he(),m=ge(),i=E(),p=E(),u=E(),v=E(!1),l=E(0),S=E(!1),h=E(!0),o=V(()=>["top","bottom"].includes(T.props.tabPosition)?"width":"height"),t=V(()=>({transform:`translate${o.value==="width"?"X":"Y"}(-${l.value}px)`})),g=()=>{if(!i.value)return;const a=i.value[`offset${F(o.value)}`],r=l.value;if(!r)return;const s=r>a?r-a:0;l.value=s},f=()=>{if(!i.value||!p.value)return;const a=p.value[`offset${F(o.value)}`],r=i.value[`offset${F(o.value)}`],s=l.value;if(a-s<=r)return;const P=a-s>r*2?s+r:a-r;l.value=P},C=async()=>{const a=p.value;if(!v.value||!u.value||!i.value||!a)return;await Y();const r=u.value.querySelector(".is-active");if(!r)return;const s=i.value,P=["top","bottom"].includes(T.props.tabPosition),N=r.getBoundingClientRect(),y=s.getBoundingClientRect(),$=P?a.offsetWidth-y.width:a.offsetHeight-y.height,w=l.value;let b=w;P?(N.left<y.left&&(b=w-(y.left-N.left)),N.right>y.right&&(b=w+N.right-y.right)):(N.top<y.top&&(b=w-(y.top-N.top)),N.bottom>y.bottom&&(b=w+(N.bottom-y.bottom))),b=Math.max(b,0),l.value=Math.min(b,$)},k=()=>{if(!p.value||!i.value)return;const a=p.value[`offset${F(o.value)}`],r=i.value[`offset${F(o.value)}`],s=l.value;if(r<a){const P=l.value;v.value=v.value||{},v.value.prev=P,v.value.next=P+r<a,a-P<r&&(l.value=a-r)}else v.value=!1,s>0&&(l.value=0)},z=a=>{const r=a.code,{up:s,down:P,left:N,right:y}=I;if(![s,P,N,y].includes(r))return;const $=Array.from(a.currentTarget.querySelectorAll("[role=tab]")),w=$.indexOf(a.target);let b;r===N||r===s?w===0?b=$.length-1:b=w-1:w<$.length-1?b=w+1:b=0,$[b].focus(),$[b].click(),M()},M=()=>{h.value&&(S.value=!0)},R=()=>S.value=!1;return O(_,a=>{a==="hidden"?h.value=!1:a==="visible"&&setTimeout(()=>h.value=!0,50)}),O(m,a=>{a?setTimeout(()=>h.value=!0,50):h.value=!1}),se(u,k),ce(()=>setTimeout(()=>C(),0)),ye(()=>k()),c({scrollToActiveTab:C,removeFocus:R}),O(()=>e.panes,()=>x.update(),{flush:"post"}),()=>{const a=v.value?[d("span",{class:[n.e("nav-prev"),n.is("disabled",!v.value.prev)],onClick:g},[d(D,null,{default:()=>[d(_e,null,null)]})]),d("span",{class:[n.e("nav-next"),n.is("disabled",!v.value.next)],onClick:f},[d(D,null,{default:()=>[d(Ne,null,null)]})])]:null,r=e.panes.map((s,P)=>{var N,y,$,w;const b=(y=(N=s.props.name)!=null?N:s.index)!=null?y:`${P}`,H=s.isClosable||e.editable;s.index=`${P}`;const ve=H?d(D,{class:"is-icon-close",onClick:A=>e.onTabRemove(s,A)},{default:()=>[d(Te,null,null)]}):null,fe=((w=($=s.slots).label)==null?void 0:w.call($))||s.props.label,me=s.active?0:-1;return d("div",{ref:`tab-${b}`,class:[n.e("item"),n.is(T.props.tabPosition),n.is("active",s.active),n.is("disabled",s.props.disabled),n.is("closable",H),n.is("focus",S.value)],id:`tab-${b}`,key:`tab-${b}`,"aria-controls":`pane-${b}`,role:"tab","aria-selected":s.active,tabindex:me,onFocus:()=>M(),onBlur:()=>R(),onClick:A=>{R(),e.onTabClick(s,b,A)},onKeydown:A=>{H&&(A.code===I.delete||A.code===I.backspace)&&e.onTabRemove(s,A)}},[fe,ve])});return d("div",{ref:u,class:[n.e("nav-wrap"),n.is("scrollable",!!v.value),n.is(T.props.tabPosition)]},[a,d("div",{class:n.e("nav-scroll"),ref:i},[d("div",{class:[n.e("nav"),n.is(T.props.tabPosition),n.is("stretch",e.stretch&&["top","bottom"].includes(T.props.tabPosition))],ref:p,style:t.value,role:"tablist",onKeydown:z},[e.type?null:d(Le,{tabs:[...e.panes]},null),r])])])}}}),Ie=K({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:L(Function),default:()=>!0},stretch:Boolean}),J=e=>Se(e)||Ce(e),Ke={[be]:e=>J(e),"tab-click":(e,c)=>c instanceof Event,"tab-change":e=>J(e),edit:(e,c)=>["remove","add"].includes(c),"tab-remove":e=>J(e),"tab-add":()=>!0};var Ue=U({name:"ElTabs",props:Ie,emits:Ke,setup(e,{emit:c,slots:x,expose:T}){var n,_;const m=j("tabs"),i=E(),p=ie({}),u=E((_=(n=e.modelValue)!=null?n:e.activeName)!=null?_:"0"),v=t=>{u.value=t,c(be,t),c("tab-change",t)},l=async t=>{var g,f,C;if(!(u.value===t||Q(t)))try{await((g=e.beforeLeave)==null?void 0:g.call(e,t,u.value))!==!1&&(v(t),(C=(f=i.value)==null?void 0:f.removeFocus)==null||C.call(f))}catch{}},S=(t,g,f)=>{t.props.disabled||(l(g),c("tab-click",t,f))},h=(t,g)=>{t.props.disabled||Q(t.props.name)||(g.stopPropagation(),c("edit",t.props.name,"remove"),c("tab-remove",t.props.name))},o=()=>{c("edit",void 0,"add"),c("tab-add")};return Pe({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},V(()=>!!e.activeName)),O(()=>e.activeName,t=>l(t)),O(()=>e.modelValue,t=>l(t)),O(u,async()=>{var t;await Y(),(t=i.value)==null||t.scrollToActiveTab()}),we(q,{props:e,currentName:u,registerPane:f=>p[f.uid]=f,unregisterPane:f=>delete p[f]}),T({currentName:u}),()=>{const t=e.editable||e.addable?d("span",{class:m.e("new-tab"),tabindex:"0",onClick:o,onKeydown:C=>{C.code===I.enter&&o()}},[d(D,{class:m.is("icon-plus")},{default:()=>[d(Ee,null,null)]})]):null,g=d("div",{class:[m.e("header"),m.is(e.tabPosition)]},[t,d(De,{ref:i,currentName:u.value,editable:e.editable,type:e.type,panes:Object.values(p),stretch:e.stretch,onTabClick:S,onTabRemove:h},null)]),f=d("div",{class:m.e("content")},[ue(x,"default")]);return d("div",{class:[m.b(),m.m(e.tabPosition),{[m.m("card")]:e.type==="card",[m.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[g,f]:[f,g]])}}});const je=K({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),qe=["id","aria-hidden","aria-labelledby"],He={name:"ElTabPane"},Je=U({...He,props:je,setup(e){const c=e,x="ElTabPane",T=G(),n=$e(),_=W(q);_||X(x,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const m=j("tab-pane"),i=E(),p=V(()=>c.closable||_.props.closable),u=ee(()=>{var o;return _.currentName.value===((o=c.name)!=null?o:i.value)}),v=E(u.value),l=V(()=>{var o;return(o=c.name)!=null?o:i.value}),S=ee(()=>!c.lazy||v.value||u.value);O(u,o=>{o&&(v.value=!0)});const h=ie({uid:T.uid,slots:n,props:c,paneName:l,active:u,index:i,isClosable:p});return ce(()=>{_.registerPane(h)}),xe(()=>{_.unregisterPane(h.uid)}),(o,t)=>B(S)?Be((ne(),le("div",{key:0,id:`pane-${B(l)}`,class:oe(B(m).b()),role:"tabpanel","aria-hidden":!B(u),"aria-labelledby":`tab-${B(l)}`},[ue(o.$slots,"default")],10,qe)),[[Oe,B(u)]]):ke("v-if",!0)}});var de=re(Je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Xe=ze(Ue,{TabPane:de}),Ye=Re(de);export{Ye as E,Xe as a};
